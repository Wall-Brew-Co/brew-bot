# This file is used to generate the contributors image for each repository.
# Repos with more than 2 non-member, non-bot contributors should link this image in their README.
name: Generate Contributors Image
on:
  schedule:
    - cron: '0 3 * * 0' # At 03:00 on Sunday.
  push:
    branches:
      - master
  workflow_dispatch:

jobs:
  contributors:
    # This job requires the Wall Brew Bot Token, so it is only run on non-forked repositories
    if: github.repository_owner == 'Wall-Brew-Co'
    runs-on: ubuntu-latest
    steps:
      - name: Generate Contributors Image
        id: contributors
        uses: wow-actions/contributors-list@v1
        with:
          GITHUB_TOKEN: ${{ secrets.WALL_BREW_BOT_PAT }}
          svgPath: CONTRIBUTORS.svg
          affiliation: all

# This file was automatically copied and populated by rebroadcast
# Do not edit this file directly, instead modify the source at https://github.com/Wall-Brew-Co/rebroadcast/blob/master/sources/github-actions/workflows/contributors.yml
